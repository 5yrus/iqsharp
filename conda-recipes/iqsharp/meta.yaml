package:
  name: iqsharp
  version: "0.8"

source:
  - path:    ../../
    folder:  iqsharp

requirements:
  build:
    - python
    - setuptools
    - dotnetcore-sdk=2.2.401
    - pwsh>=6.2.2 # [not win]
    - jupyter

  run:
    - python
    - jupyter

test:
  requires:
    - pwsh>=6.2.2 # [not win]
    - jupyter
    - python>=3.6
    - jupyter_client
    - pip

  source_files:
    - iqsharp/conda-recipes/iqsharp/test.ps1
    - iqsharp/conda-recipes/iqsharp/test.py

  commands:
    - powershell -NoProfile iqsharp/conda-recipes/iqsharp/test.ps1 # [win]
    - pwsh iqsharp/conda-recipes/iqsharp/test.ps1 # [not win]
    - pip install jupyter_kernel_test
    - python iqsharp/conda-recipes/iqsharp/test.py

about:
  home: https://docs.microsoft.com/quantum
